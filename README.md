# README

Serverless Framework を題材にした、テストコードの課題アプリです。

![diagram](unittest-exercise-diagram.png)

## ユースケース

- ローンチしているEC2インスタンスのうち、特定のインスタンスにだけ定期的に「アクション」を実行したい
  - アクションの詳細は今回のお題の関心から逸れるので具体的なロジックには踏み込まず、 _put\_action\_record_ というフェイク実装を用いて代用
- 「アクション」が必要なインスタンスは、タグを使ってマーキングする
  - Key == require_action && Value == true のタグを持つインスタンスを「アクション」の対象とする
- EC2 のタグ情報を収集する
  - EC2 のタグ情報を取得するためのロジックは、今回はフェイク実装で代用する
- 収集した EC2 のうち、「アクションが必要なもの」だけをフィルタして1台ずつ _some\_action_ を実行する
  - 「アクションが必要なもの」を示す情報は、EC2のタグで管理する


## 発展課題

- 複数アクションへの対応
  - 'required_action' の代わりに、 'actions' というタグを使う
  - 'actions' タグの Value にはカンマ区切りで複数のアクション名を記述する仕様とする
  - 実行可能なアクションの種類は 'backup_action', 'audit_action' の2種類とする（アクションの定義はソースコード中で定義して良い）
  - カンマ区切りの前後にスペースが含まれる場合はスペースもアクション名の一部として扱う
  - Fail Case
    - 定義していないアクション以外が1つでも含まれていた場合
    - Value が未定義の場合は何もせず正常終了
